<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Healthway Cancer Care ‚Äì Health Quiz</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
  @font-face {
    font-family: 'Helvetica Neue';
    src: url('./HelveticaNeue.otf') format('opentype');
    font-weight: 400;
    font-style: normal;
  }

  @font-face {
    font-family: 'Helvetica Neue';
    src: url('./HelveticaNeueBold.otf') format('opentype');
    font-weight: 700;
    font-style: normal;
  }

  @font-face {
    font-family: 'Helvetica Neue';
    src: url('./HelveticaNeueLight.otf') format('opentype');
    font-weight: 300;
    font-style: normal;
  }

  :root {
    --teal: #00ADBB;
    --teal-dark: #005f58;
    --teal-light: #e0f4f3;
    --blue: #0052B4;
    --orange: #E67E22;
    --orange-dark: #D35400;
    --rose: #C0392B;
    --amber: #E67E22;
    --green: #1A8A4A;
    --cream: #FAFAF8;
    --charcoal: #191A1A;
    --mid: #4A6360;
    --border: #d0e4e2;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Helvetica Neue', sans-serif;
    background: linear-gradient(135deg, #0052B4 0%, #0066D9 100%);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    overflow-x: hidden;
  }

  p {
    text-wrap-style: balance;
  }

  /* Decorative background */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background:
      radial-gradient(ellipse 60% 50% at 10% 20%, rgba(0,133,124,0.08) 0%, transparent 60%),
      radial-gradient(ellipse 50% 60% at 90% 80%, rgba(0,133,124,0.06) 0%, transparent 60%);
    pointer-events: none;
  }

  .logo-header {
    width: 100%;
    padding: 40px 20px 20px 20px;
    text-align: center;
    position: relative;
    z-index: 10;
  }

  .logo-header-brand {
    display: inline-flex;
    align-items: center;
    gap: 12px;
    cursor: pointer;
    transition: opacity 0.2s ease;
    background: none;
    border: none;
    padding: 0;
  }

  .logo-header-brand:hover {
    opacity: 0.85;
  }

  .logo-header-img {
    height: 60px;
    width: auto;
    object-fit: contain;
  }

  .shell {
    width: 100%;
    max-width: 100%;
    padding: 24px 24px 24px 24px;
    position: relative;
  }

  /* ‚îÄ‚îÄ SCREENS ‚îÄ‚îÄ */
  .screen { display: none; animation: fadeUp .45s ease both; }
  .screen.active { display: block; }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(22px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  /* ‚îÄ‚îÄ CARD ‚îÄ‚îÄ */
  .card {
    background: #fff;
    border-radius: 24px;
    padding: 48px 52px;
    box-shadow: 0 4px 32px rgba(0,133,124,0.10), 0 1px 4px rgba(0,0,0,0.04);
    border: 1px solid var(--border);
    display: flex;
    flex-direction: column;
    gap: 24px;
  }

  /* ‚îÄ‚îÄ WELCOME ‚îÄ‚îÄ */
  .welcome-title {
    font-family: 'Helvetica Neue', sans-serif;
    text-align: center;
    font-size: 38px; font-weight: 700;
    color: var(--charcoal);
    line-height: 1.2;
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .welcome-title .subtitle {
    font-size: 18px;
    font-weight: 400;
    color: var(--mid);
  }

  .welcome-title .teal-text { color: var(--teal); }
  .welcome-title .green-text { color: #00ADBB; }
  .welcome-title .orange-text { color: var(--orange); }

  .welcome-desc {
    font-size: 16px; color: var(--mid);
    line-height: 1.65;
    max-width: 720px;
    text-align: center;
    margin-left: auto;
    margin-right: auto;
  }

  .welcome-disclaimer {
    font-size: 12px;
    color: var(--mid);
    font-style: italic;
    line-height: 1.6;
    max-width: 720px;
    text-align: center;
    margin-top: -24px;
    margin-left: auto;
    margin-right: auto;
    opacity: 0.8;
  }

  .meta-row {
    display: flex; gap: 12px;
    justify-content: center;
    flex-wrap: wrap;
    margin: 0 auto;
  }

  .meta-item {
    display: flex; align-items: center; gap: 8px;
    font-size: 13px; color: #005AA5;
    background: #E0EFFE;
    padding: 8px 16px;
    border-radius: 20px;
  }

  .meta-item svg {
    width: 16px;
    height: 16px;
  }

  .confidential-box {
    background: #f5f5f5;
    border-left: 4px solid var(--teal);
    border-radius: 8px;
    padding: 24px;
    max-width: 720px;
    align-self: center;
  }

  .confidential-box h4 {
    font-size: 14px;
    font-weight: 600;
    color: var(--charcoal);
    margin-bottom: 14px;
  }

  .confidential-box ul {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  .confidential-box li {
    font-size: 13px;
    color: var(--mid);
    line-height: 1.6;
    padding-left: 20px;
    position: relative;
  }

  .confidential-box li:before {
    content: "‚Ä¢";
    position: absolute;
    left: 8px;
  }

  .confidential-box li:last-child {
    margin-bottom: 0;
  }

  /* ‚îÄ‚îÄ BUTTON ‚îÄ‚îÄ */
  .btn {
    display: inline-flex; align-items: center; gap: 10px;
    background: var(--orange);
    color: #fff;
    font-family: 'Helvetica Neue', sans-serif;
    font-size: 16px; font-weight: 600;
    border: none; cursor: pointer;
    border-radius: 14px;
    padding: 18px 36px;
    transition: background .2s, transform .15s, box-shadow .2s;
    box-shadow: 0 4px 16px rgba(230, 126, 34, 0.30);
    text-decoration: none;
    width: fit-content;
    margin: 0 auto;
    -webkit-tap-highlight-color: transparent;
    outline: none;
  }

  .btn:hover { background: var(--orange-dark); transform: translateY(-2px); box-shadow: 0 8px 24px rgba(230, 126, 34, 0.35); }
  .btn:active { transform: translateY(0); }
  .btn:focus { outline: none; }
  .btn svg { width: 18px; height: 18px; fill: white; }

  .btn-outline {
    background: #FFFFFF;
    color: #FF8D2A;
    border: 2px solid #FF8D2A;
    box-shadow: none;
    font-size: 14px;
    padding: 14px 28px;
  }
  .btn-outline:hover { background: #FFFFFF; border-color: #FF8D2A; box-shadow: none; }

  /* ‚îÄ‚îÄ PROGRESS ‚îÄ‚îÄ */
  .progress-header {
    display: flex; align-items: center; justify-content: space-between;
    margin-bottom: 8px;
  }

  .progress-label { font-size: 12px; color: var(--mid); font-weight: 500; letter-spacing: .04em; text-transform: uppercase; }
  .progress-count { font-size: 12px; color: var(--mid); font-weight: 500; }
  .progress-percent { font-size: 12px; color: var(--mid); font-weight: 500; }

  .progress-bar {
    height: 5px; background: #F4F5F5;
    border-radius: 10px; margin-bottom: 36px; overflow: hidden;
  }

  .progress-fill {
    height: 100%; background: linear-gradient(90deg, #00ADBB 0%, #FF8D2A 100%);
    border-radius: 10px;
    transition: width .5s cubic-bezier(.4,0,.2,1);
  }

  /* ‚îÄ‚îÄ QUESTION ‚îÄ‚îÄ */
  .q-category {
    font-size: 11px; font-weight: 600; letter-spacing: .08em; text-transform: uppercase;
    color: var(--teal); margin-bottom: 10px;
  }

  .q-text {
    font-family: 'Helvetica Neue', sans-serif;
    font-size: 26px; font-weight: 700; color: var(--charcoal);
    line-height: 1.35;
  }

  .options { display: flex; flex-direction: column; gap: 12px; }

  .option {
    display: flex; align-items: center; gap: 16px;
    padding: 18px 22px;
    border: 2px solid #FFEED4;
    border-radius: 14px;
    cursor: pointer;
    transition: border-color .2s, background .2s, transform .15s;
    background: #FFF7ED;
    -webkit-tap-highlight-color: transparent;
    outline: none;
  }

  .option:hover { border-color: var(--orange); background: #FFF5F0; transform: translateX(4px); }
  .option.selected { border-color: var(--orange); background: #FFF5F0; box-shadow: 0 0 0 3px rgba(230, 126, 34, 0.1); }

  .opt-letter {
    width: 34px; height: 34px; border-radius: 9px; flex-shrink: 0;
    background: #FFD8A8; color: #FE7511;
    font-weight: 700; font-size: 13px;
    display: flex; align-items: center; justify-content: center;
    transition: background .2s, color .2s;
  }

  .option.selected .opt-letter {
    background: var(--orange);
    color: #fff;
  }

  .opt-text { font-size: 15px; color: var(--charcoal); line-height: 1.4; }

  .q-nav {
    display: flex; align-items: center; justify-content: space-between;
    margin-top: 32px;
    width: 100%;
  }

  .q-nav .btn {
    margin: 0;
  }

  .q-nav #btn-back {
    margin-right: auto;
  }

  .q-nav #btn-next {
    margin-left: auto;
  }

  /* ‚îÄ‚îÄ RESULT ‚îÄ‚îÄ */
  .achievement-badge {
    text-align: center;
    margin: 0 auto 40px;
    padding: 32px 28px;
    border-radius: 24px;
    max-width: 380px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
  }

  .achievement-badge.bronze {
    background: linear-gradient(135deg, #E8D4C4 0%, #F0DFD5 100%);
  }

  .achievement-badge.silver {
    background: linear-gradient(135deg, #F5F5F5 0%, #E8E8E8 100%);
  }

  .achievement-badge.gold {
    background: linear-gradient(135deg, #FFFACD 0%, #FFF8DC 100%);
  }

  .badge-icon {
    display: none;
  }

  .badge-content {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 24px;
  }

  .badge-wings {
    width: auto;
    height: 100px;
    flex-shrink: 0;
  }

  .badge-label {
    font-size: 14px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    opacity: 0.9;
    margin-bottom: 8px;
  }

  .achievement-badge.bronze .badge-label { color: #5C3D2E; }
  .achievement-badge.silver .badge-label { color: #333333; }
  .achievement-badge.gold .badge-label { color: #B8860B; }

  .badge-text {
    font-family: 'Helvetica Neue', sans-serif;
    font-size: 36px;
    font-weight: 700;
    line-height: 1.2;
  }

  .achievement-badge.bronze .badge-text { color: #4A2F23; }
  .achievement-badge.silver .badge-text { color: #1a1a1a; }
  .achievement-badge.gold .badge-text { color: #B8860B; }

  .result-title {
    font-family: 'Helvetica Neue', sans-serif;
    font-size: 32px; font-weight: 700; color: var(--charcoal);
    line-height: 1.3;
    text-align: center;
  }

  .result-title .teal-text { color: var(--teal); }
  .result-title .orange-text { color: var(--orange); }

  .result-desc {
    font-size: 16px; color: var(--mid); line-height: 1.7;
    text-align: center;
    margin: 0 auto;
  }

  .result-insights {
    background: #F0F7FF;
    border-radius: 16px; padding: 24px;
    margin-top: 40px;
    max-width: 720px;
    margin-left: auto;
    margin-right: auto;
  }

  .result-insights h4 {
    font-size: 16px; font-weight: 600; letter-spacing: .08em;
    font-weight: 500;
    text-transform: uppercase; color: var(--mid);
    margin-bottom: 16px;
    color: var(--charcoal);
  }

  .insight-item {
    display: flex; align-items: flex-start; gap: 10px;
    font-size: 16px; color: var(--charcoal);
    margin-bottom: 12px; line-height: 1.6;
    justify-content: flex-start;
  }

  .insight-item:last-child {
    margin-bottom: 0;
  }

  .result-actions {
    display: flex; gap: 16px; flex-wrap: wrap;
    justify-content: center;
    margin-top: 40px;
  }

  .result-actions .btn {
    margin: 0;
  }

  /* ‚îÄ‚îÄ RESET ‚îÄ‚îÄ */
  .reset-link {
    display: inline-flex; align-items: center; gap: 6px;
    font-size: 13px; color: var(--mid); cursor: pointer;
    margin-top: 20px; text-decoration: none;
    transition: color .2s;
  }
  .reset-link:hover { color: var(--teal); }

  /* ‚îÄ‚îÄ FULLSCREEN BUTTON ‚îÄ‚îÄ */
  .fullscreen-btn {
    position: fixed;
    top: 20px; right: 20px;
    width: 48px; height: 48px;
    border-radius: 12px;
    background: rgba(255, 255, 255, 0.95);
    color: var(--blue);
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.12);
    transition: background .2s, transform .15s, box-shadow .2s;
    z-index: 1000;
    font-size: 22px;
    line-height: 1;
  }

  .fullscreen-btn:hover {
    background: #fff;
    transform: scale(1.05);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.16);
  }

  .fullscreen-btn:active {
    transform: scale(0.98);
  }

  @media (max-width: 580px) {
    .logo-header { padding: 28px 20px 16px 20px; }
    .logo-header-icon { width: 40px; height: 40px; }
    .logo-header-icon svg { width: 24px; height: 24px; }
    .logo-header-text .name { font-size: 16px; }
    .card { padding: 32px 28px; }
    .welcome-title { font-size: 28px; }
    .meta-row { flex-direction: row; gap: 10px; }
    .q-text { font-size: 20px; }
    .doctor-cta { flex-direction: column; text-align: center; }
    
    /* Disable hover states on mobile */
    .option:hover { border-color: #FFEED4; background: #FFF7ED; transform: none; }
    .btn:hover { background: var(--orange); transform: none; box-shadow: 0 4px 16px rgba(230, 126, 34, 0.30); }
    .btn-outline:hover { background: transparent; border-color: var(--border); }
    .reset-link:hover { color: var(--mid); }
    .fullscreen-btn:hover { background: rgba(255, 255, 255, 0.95); transform: none; box-shadow: 0 2px 12px rgba(0, 0, 0, 0.12); }
    .logo-header-brand:hover { opacity: 1; }
  }
</style>
</head>
<body>

<button class="fullscreen-btn" id="fullscreen-btn" title="Toggle Fullscreen">‚õ∂</button>

<div class="logo-header">
  <button class="logo-header-brand" onclick="resetQuiz()" title="Back to Home">
    <img src="./white-logo-1.png" alt="Healthway Cancer Care" class="logo-header-img">
  </button>
</div>

<div class="shell">

  <!-- ‚ïê‚ïê WELCOME ‚ïê‚ïê -->
  <div class="screen active" id="screen-welcome">
    <div class="card">
      <h1 class="welcome-title"><span class="green-text">Preventive Health Profile</span><span class="orange-text">A quick lifestyle and screening check-in</span></h1>

      <div class="meta-row">
        <div class="meta-item">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
          Free Health Check
        </div>
        <div class="meta-item">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22C6.48 22 2 17.52 2 12S6.48 2 12 2s10 4.48 10 10-4.48 10-10 10zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 10 15.5 10 14 10.67 14 11.5s.67 1.5 1.5 1.5z"/></svg>
          10 Questions
        </div>
        <div class="meta-item">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
          2 minutes
        </div>
      </div>

      <p class="welcome-desc">
Answer a few short questions about your everyday habits and preventive care practices to better understand your approach to long-term health.
      </p>

      <p class="welcome-disclaimer">For educational use only. Not a medical diagnosis. Screening decisions should be made with a physician.</p>

      <button class="btn" onclick="startQuiz()">
        Start the quiz  
        <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
      </button>

      <div class="confidential-box">
        <h4>Confidential Health Assessment</h4>
        <ul>
          <li>Your responses are anonymous and confidential</li>
          <li>No personally identifying information is required</li>
          <li>Results are generated instantly</li>
          <li>This assessment is for informational purposes only and does not replace medical advice</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê QUESTION ‚ïê‚ïê -->
  <div class="screen" id="screen-question">
    <div class="card">
      <div class="progress-header">
        <span class="progress-count" id="q-count"></span>
        <span class="progress-percent" id="q-percent"></span>
      </div>
      <div class="progress-bar"><div class="progress-fill" id="progress-fill"></div></div>

      <div class="q-text" id="q-text"></div>
      <div class="options" id="options-container"></div>

      <div class="q-nav">
        <button class="btn btn-outline" onclick="prevQuestion()" id="btn-back">‚Üê Back</button>
        <button class="btn" onclick="nextQuestion()" id="btn-next" style="opacity:.4;pointer-events:none">Next ‚Üí</button>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê RESULT ‚ïê‚ïê -->
  <div class="screen" id="screen-result">
    <div class="card">

      <div id="risk-badge-el"></div>
      <h2 class="result-title" style="margin-top: 0;" id="result-title"></h2>
      <p class="result-desc" id="result-desc"></p>

      <div class="result-insights">
        <h4>Key Takeaways for You</h4>
        <div id="insights-list"></div>
      </div>

      <div class="result-actions">
        <a class="reset-link btn btn-outline" onclick="resetQuiz()" style="margin-top: 0; background: #FFFFFF; color: #FF8D2A; border-color: #FF8D2A;">‚Ü© Restart the quiz</a>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê DOCTOR FLAG ‚ïê‚ïê -->
  <div class="screen" id="screen-flag">
    <div class="card" style="text-align:center;padding:64px 52px">
      <div style="font-size:72px;margin-bottom:24px">üôã</div>
      <h2 style="font-family:'Playfair Display',serif;font-size:32px;color:var(--charcoal);margin-bottom:14px">
        A Doctor Will Be With You Shortly
      </h2>
      <p style="font-size:16px;color:var(--mid);line-height:1.7;margin-bottom:40px;max-width:440px;margin-left:auto;margin-right:auto">
        Please show this screen to a Healthway team member. One of our specialists will come to you for a private conversation.
      </p>
      <div style="background:var(--teal);border-radius:18px;padding:24px 32px;display:inline-block;margin-bottom:36px">
        <div style="font-size:12px;color:rgba(255,255,255,0.65);text-transform:uppercase;letter-spacing:.06em;margin-bottom:4px">Risk Level</div>
        <div id="flag-risk" style="font-size:22px;font-weight:700;color:#fff"></div>
      </div>
      <br>
      <a class="reset-link" style="justify-content:center" onclick="resetQuiz()">‚Ü© Start over for another person</a>
    </div>
  </div>

</div>

<script>
const questions = [
  {
    category: "Preventive Care",
    text: "When was your last annual physical exam?",
    options: ["Within the past year", "1‚Äì2 years ago", "More than 2 years ago / can't recall"],
    scores: [3, 2, 1]
  },
  {
    category: "Preventive Care",
    text: "How often do you schedule health screenings recommended for your age?",
    options: ["I stay up to date", "I do them occasionally", "I haven't started yet"],
    scores: [3, 2, 1]
  },
  {
    category: "Family History",
    text: "Do you know your family's major health history?",
    options: ["Yes, and I share it with my doctor", "I know some details", "Not really"],
    scores: [3, 2, 1]
  },
  {
    category: "Work-Life Balance",
    text: "How would you describe your typical work-life balance?",
    options: ["I actively protect time for rest and recovery", "It fluctuates depending on workload", "Work often overrides rest"],
    scores: [3, 2, 1]
  },
  {
    category: "Physical Activity",
    text: "How often do you engage in physical activity?",
    options: ["3‚Äì5 times per week", "1‚Äì2 times per week", "Rarely"],
    scores: [3, 2, 1]
  },
  {
    category: "Sleep Quality",
    text: "How would you describe your sleep quality?",
    options: ["Restful and consistent", "Sometimes interrupted", "Frequently insufficient"],
    scores: [3, 2, 1]
  },
  {
    category: "Stress Management",
    text: "How often do you experience prolonged stress?",
    options: ["I manage stress effectively", "Occasionally overwhelmed", "Frequently stressed"],
    scores: [3, 2, 1]
  },
  {
    category: "Healthcare Habits",
    text: "Do you consult a doctor when you notice unusual or persistent symptoms?",
    options: ["Promptly", "I monitor first", "I tend to delay"],
    scores: [3, 2, 1]
  },
  {
    category: "Awareness",
    text: "How familiar are you with cancer screening guidelines for your age group?",
    options: ["Very familiar", "Somewhat aware", "Not familiar"],
    scores: [3, 2, 1]
  },
  {
    category: "Preventive Care",
    text: "How often do you prioritize preventive health discussions with your doctor?",
    options: ["At every visit", "Occasionally", "Rarely"],
    scores: [3, 2, 1]
  },
  {
    category: "Diet",
    text: "How would you describe your diet?",
    options: ["Mostly balanced and intentional", "Mixed, depending on schedule", "Often convenience-based"],
    scores: [3, 2, 1]
  },
  {
    category: "Lifestyle",
    text: "Do you smoke or have a history of smoking?",
    options: ["Never", "Former smoker", "Current smoker"],
    scores: [3, 2, 1]
  },
  {
    category: "Lifestyle",
    text: "How often do you consume alcohol?",
    options: ["Occasionally / socially", "Regularly in moderation", "Frequently"],
    scores: [3, 2, 1]
  },
  {
    category: "Health Planning",
    text: "Do you have a personal health plan or goals?",
    options: ["Yes, documented or tracked", "I have general intentions", "Not currently"],
    scores: [3, 2, 1]
  },
  {
    category: "Health Mindset",
    text: "When it comes to your health, which statement best describes you?",
    options: ["I take a proactive, long-term view", "I act when needed", "I tend to postpone"],
    scores: [3, 2, 1]
  }
];

let current = 0;
let answers = new Array(questions.length).fill(null);
let totalScore = 0;

function startQuiz() {
  current = 0;
  answers = new Array(questions.length).fill(null);
  showScreen('screen-question');
  renderQuestion();
}

function renderQuestion() {
  const q = questions[current];
  const letters = ['A','B','C','D'];

  const questionNum = current + 1;
  const percentage = Math.round((questionNum / questions.length) * 100);
  document.getElementById('q-count').textContent = `Question ${questionNum} of ${questions.length}`;
  document.getElementById('q-percent').textContent = `${percentage}%`;
  document.getElementById('progress-fill').style.width = `${((current + 1) / questions.length) * 100}%`;
  document.getElementById('q-text').textContent = q.text;

  const container = document.getElementById('options-container');
  container.innerHTML = '';
  q.options.forEach((opt, i) => {
    const div = document.createElement('div');
    div.className = 'option' + (answers[current] === i ? ' selected' : '');
    div.innerHTML = `<div class="opt-letter">${letters[i]}</div><div class="opt-text">${opt}</div>`;
    div.onclick = () => selectOption(i);
    container.appendChild(div);
  });

  const btnNext = document.getElementById('btn-next');
  const btnBack = document.getElementById('btn-back');

  btnNext.textContent = current === questions.length - 1 ? 'See My Results ‚Üí' : 'Next ‚Üí';
  if (answers[current] !== null) {
    btnNext.style.opacity = '1'; btnNext.style.pointerEvents = 'auto';
  } else {
    btnNext.style.opacity = '.4'; btnNext.style.pointerEvents = 'none';
  }
  btnBack.style.display = current === 0 ? 'none' : 'inline-flex';
}

function selectOption(i) {
  answers[current] = i;
  document.querySelectorAll('.option').forEach((el, idx) => {
    el.classList.toggle('selected', idx === i);
  });
  const btnNext = document.getElementById('btn-next');
  btnNext.style.opacity = '1'; btnNext.style.pointerEvents = 'auto';
}

function nextQuestion() {
  if (answers[current] === null) return;
  if (current < questions.length - 1) {
    current++;
    renderQuestion();
  } else {
    showResults();
  }
}

function prevQuestion() {
  if (current > 0) { current--; renderQuestion(); }
}

function showResults() {
  totalScore = answers.reduce((sum, ans, i) => sum + (ans !== null ? questions[i].scores[ans] : 0), 0);

  let level, color, title, desc, insights;

  if (totalScore >= 36) {
    level = 'Gold'; color = 'gold';
    title = '<span style="color: #00ADBB;">Preventive</span> <span style="color: #FF8D2A;">Leader</span>';
    desc = 'You take a proactive, long-term approach to health and well-being. Your habits support resilience, performance, and longevity.';
    insights = [
      'Your preventive habits reflect strong awareness and proactive care. A periodic consultation can help sustain and optimize your long-term screening approach.',
        'As the Philippines‚Äô first dedicated cancer hospital, the Healthway Cancer Care Hospital brings together multidisciplinary specialists to support individualized preventive planning.',
        'Connect with our team to continue strengthening your preventive health plan.'
    ];
  } else if (totalScore >= 26) {
    level = 'Silver'; color = 'silver';
    title = '<span style="color: #00ADBB;">On the</span> <span style="color: #FF8D2A;">Right Track</span>';
    desc = 'You have a solid foundation for long-term health, with opportunities to strengthen preventive care and screening consistency.';
    insights = [
      'You‚Äôve taken important steps toward prevention. A focused review with a Healthway Cancer Care Hospital (HCCH) physician can help ensure your screening and preventive care remain aligned with your health goals.',
      'As the Philippines‚Äô first dedicated cancer hospital, HCCH integrates multidisciplinary expertise to support personalized preventive strategies.',
      'Connect with our team to refine your preventive health plan.',
    ];
  } else {
    level = 'Bronze'; color = 'bronze';
    title = '<span style="color: #00ADBB;">Time to</span> <span style="color: #FF8D2A;">Prioritize Prevention</span>';
    desc = 'Preventive care may not yet be part of your routine. Small, intentional steps today can make a meaningful difference over time.';
    insights = [
      'Preventive care deserves a more intentional place in your routine. A focused discussion with a Healthway Cancer Care Hospital (HCCH) physician can help clarify which preventive measures and cancer screening considerations may be appropriate for you at this stage.',
      'As the Philippines‚Äô first dedicated cancer hospital, HCCH brings together multidisciplinary expertise to guide preventive health strategies and individualized screening plans.',
      'Connect with our team to review your personalized preventive health plan.'
    ];
  }

  const badgeIcons = { 'gold': 'üèÜ', 'silver': 'ü•à', 'bronze': 'ü•â' };
  const badgeIcon = badgeIcons[color];
  document.getElementById('risk-badge-el').innerHTML = `
    <div class="achievement-badge ${color}">
      <div class="badge-content">
         <svg class="badge-wings" viewBox="0 0 46 102" fill="none" xmlns="http://www.w3.org/2000/svg" style="color: ${color === 'gold' ? '#FFD700' : color === 'silver' ? '#A8A9AD' : '#A67C52'}; transform: scaleX(-1);"><path d="M44.1279 40.4138C39.2424 45.9038 39.0776 47.6084 37.4243 52.5414L37.1144 53.4811C36.6166 54.9408 36.1438 56.2715 35.7899 57.2133C36.0906 53.97 36.1131 50.7068 35.8573 47.4596C37.9307 46.1398 43.648 39.1661 40.2151 28.3419C36.0936 35.8954 37.2083 36.4662 35.7853 46.4579C35.4692 43.1644 34.8457 39.9077 33.9231 36.7303C36.4644 34.2607 39.0003 26.3475 34.1449 17.4879C31.813 25.6211 32.8957 25.8759 33.7031 35.9645C32.712 32.7016 31.4244 29.5362 29.8565 26.508C31.0721 24.5484 32.9461 16.0393 26.3502 7.96857C25.6838 15.8937 26.5516 15.9777 29.6395 26.0991C28.0213 23.0282 26.142 20.1022 24.0223 17.3535C24.84 15.3679 24.1049 11.13 23.5509 9.03049C22.4573 5.44784 20.2791 2.29267 17.3169 0C17.5152 2.48922 17.9908 4.94852 18.735 7.33218C19.0988 8.24559 19.5206 9.13484 19.9978 9.99447C20.5198 11.0022 21.1337 12.0939 21.7046 13.1126C22.7195 14.9751 23.5974 16.6367 23.9133 17.1865C22.5685 15.436 21.0688 13.6705 19.852 12.4079C19.592 12.12 19.3881 11.9001 19.2221 11.7401C18.7561 10.7848 18.2057 9.87312 17.5773 9.01585C16.6799 7.72827 15.6676 6.52468 14.5528 5.41988C12.0956 3.07547 9.04014 1.45304 5.72164 0.730524C7.70533 3.48887 10.0736 5.9491 12.7544 8.03637C13.6352 8.69716 15.125 9.66085 16.4817 10.5116C17.4945 11.1664 18.4413 11.7272 18.9702 12.0161C19.1182 12.168 19.3121 12.362 19.5441 12.6159C24.573 18.0126 28.588 24.2717 31.3964 31.0928C31.8963 32.3925 32.4263 33.7701 32.8703 35.1957C32.2818 33.7736 31.4719 32.4536 30.4706 31.2848C27.967 28.3836 24.4227 26.1514 20.5847 26.7625C22.5323 30.1087 25.5814 32.6748 29.2111 34.0222C30.6818 34.665 32.1575 35.3207 32.9793 35.5566C33.9717 38.7692 34.6519 42.07 35.0104 45.4132C34.6639 44.0549 34.1097 42.7583 33.3676 41.5692C31.3618 38.1781 28.1504 35.415 24.1304 35.3202C25.1452 37.7634 26.6381 39.9792 28.5212 41.8374C30.4044 43.6956 32.6399 45.1588 35.0964 46.141C35.4103 49.4465 35.432 52.7733 35.161 56.0827C34.6568 51.3978 31.4782 45.3844 25.8825 44.18C26.4632 46.8229 27.5808 49.3181 29.1661 51.511C30.7514 53.7039 32.7705 55.5475 35.0981 56.9275C34.7854 60.2049 34.0552 63.429 32.9252 66.5213C32.972 66.125 32.998 65.7266 33.0031 65.3276C33.0727 60.2728 30.809 55.2801 25.859 53.1559C26.1503 59.6534 30.8826 65.7106 32.6033 67.3911L32.5523 67.5301C31.3379 70.534 29.7474 73.3717 27.8189 75.9754C29.3033 72.0772 29.5929 65.0729 24.0989 61.2631C23.5304 66.6254 24.6405 72.0319 27.2761 76.7362C25.2706 79.3423 23.0367 81.7645 20.6011 83.9739C23.4001 78.839 24.2836 72.8743 20.3772 68.1107C19.9297 69.232 19.5433 70.3768 19.2197 71.5399C18.1073 75.8933 18.3624 80.4835 19.9503 84.6868C17.4561 86.9294 14.9208 88.9491 12.2765 90.9958C17.2998 82.7224 16.6077 78.3635 14.6969 74.2496C14.1901 75.0264 13.3774 76.2492 12.5577 77.8029C11.5965 79.5725 10.9374 81.4901 10.6075 83.4766C10.4856 84.8067 10.5008 86.1458 10.6527 87.4727C10.7623 88.8848 11.0568 90.2763 11.5287 91.6117C8.70453 93.7723 6.21023 95.627 3.56098 97.6607C5.3166 94.4902 6.73481 91.1442 7.79237 87.6778C8.25601 85.0707 8.07497 82.3898 7.26504 79.8687C6.19101 81.0919 5.1912 82.3783 4.27098 83.721C2.8076 85.7842 1.91303 88.1963 1.67714 90.7148C1.44126 93.2333 1.87237 95.7695 2.92716 98.0686C1.97543 98.8525 0.986713 99.6954 0 100.582C0.233963 100.88 0.467928 101.178 0.688894 101.481L2.44738 99.9242C4.15602 100.759 12.3852 102.487 17.6638 100.695C19.3184 100.104 20.9178 99.3693 22.4436 98.4984C17.7545 96.1992 14.5942 95.0427 3.91696 98.7024C6.18131 96.8317 8.80157 94.8391 10.952 93.1763C12.6216 94.026 20.5469 95.8561 26.5433 92.9824C28.247 92.1463 29.8573 91.1318 31.3469 89.9559C28.76 89.2131 26.0712 88.8875 23.3818 88.9916C19.6464 89.7609 15.9696 90.7914 12.3786 92.0755C14.7929 90.2068 17.1532 88.3141 19.4455 86.2834C21.1092 87.0012 31.2769 89.192 39.2294 79.2249C30.5225 79.5904 30.5466 80.7001 20.6342 85.1846C22.9259 83.103 25.0502 80.844 26.9873 78.4288C30.2715 79.2095 39.6872 77.8552 44.2105 66.3427C36.2435 69.4074 36.3086 70.5462 30.9911 74.8745C29.7545 75.8873 28.3679 76.8981 27.924 77.2181C29.8396 74.6901 31.4474 71.943 32.7134 69.0347C32.8771 69.034 33.0402 69.0163 33.2002 68.9817C33.3822 68.9583 33.5619 68.9192 33.7371 68.8647C40.9913 66.8947 44.4831 60.613 45.5634 53.0657C38.7922 57.804 39.1502 59.2777 35.5684 64.5496C35.2065 65.1215 34.8167 65.6594 34.4738 66.1643C34.1309 66.6692 33.781 67.1171 33.4941 67.4961L33.3151 67.729C34.4977 64.7274 35.2953 61.5881 35.689 58.3861C39.2831 57.0632 44.9174 50.8823 44.1279 40.4138Z" fill="currentColor"/><path d="M28.8108 25.6122C26.1121 21.0405 20.4502 17.2207 15.4535 18.8146C17.4252 21.4579 20.8756 24.338 28.8108 25.6122Z" fill="currentColor"/><path d="M16.0949 11.6003C14.9715 11.0962 13.7557 10.8312 12.5244 10.822C11.2932 10.8127 10.0734 11.0596 8.94262 11.5468C10.5939 13.1518 12.5335 14.4305 14.6595 15.3155C17.3619 15.9405 20.1035 16.3812 22.8656 16.6347C21.7853 15.3281 20.5332 14.1736 19.1433 13.2027C18.1947 12.549 17.1713 12.0111 16.0949 11.6003Z" fill="currentColor"/></svg>
        <div>
          <div class="badge-label">You Achieved</div>
          <div class="badge-text">${level}</div>
        </div>
        <svg class="badge-wings" viewBox="0 0 46 102" fill="none" xmlns="http://www.w3.org/2000/svg" style="color: ${color === 'gold' ? '#FFD700' : color === 'silver' ? '#A8A9AD' : '#A67C52'};"><path d="M44.1279 40.4138C39.2424 45.9038 39.0776 47.6084 37.4243 52.5414L37.1144 53.4811C36.6166 54.9408 36.1438 56.2715 35.7899 57.2133C36.0906 53.97 36.1131 50.7068 35.8573 47.4596C37.9307 46.1398 43.648 39.1661 40.2151 28.3419C36.0936 35.8954 37.2083 36.4662 35.7853 46.4579C35.4692 43.1644 34.8457 39.9077 33.9231 36.7303C36.4644 34.2607 39.0003 26.3475 34.1449 17.4879C31.813 25.6211 32.8957 25.8759 33.7031 35.9645C32.712 32.7016 31.4244 29.5362 29.8565 26.508C31.0721 24.5484 32.9461 16.0393 26.3502 7.96857C25.6838 15.8937 26.5516 15.9777 29.6395 26.0991C28.0213 23.0282 26.142 20.1022 24.0223 17.3535C24.84 15.3679 24.1049 11.13 23.5509 9.03049C22.4573 5.44784 20.2791 2.29267 17.3169 0C17.5152 2.48922 17.9908 4.94852 18.735 7.33218C19.0988 8.24559 19.5206 9.13484 19.9978 9.99447C20.5198 11.0022 21.1337 12.0939 21.7046 13.1126C22.7195 14.9751 23.5974 16.6367 23.9133 17.1865C22.5685 15.436 21.0688 13.6705 19.852 12.4079C19.592 12.12 19.3881 11.9001 19.2221 11.7401C18.7561 10.7848 18.2057 9.87312 17.5773 9.01585C16.6799 7.72827 15.6676 6.52468 14.5528 5.41988C12.0956 3.07547 9.04014 1.45304 5.72164 0.730524C7.70533 3.48887 10.0736 5.9491 12.7544 8.03637C13.6352 8.69716 15.125 9.66085 16.4817 10.5116C17.4945 11.1664 18.4413 11.7272 18.9702 12.0161C19.1182 12.168 19.3121 12.362 19.5441 12.6159C24.573 18.0126 28.588 24.2717 31.3964 31.0928C31.8963 32.3925 32.4263 33.7701 32.8703 35.1957C32.2818 33.7736 31.4719 32.4536 30.4706 31.2848C27.967 28.3836 24.4227 26.1514 20.5847 26.7625C22.5323 30.1087 25.5814 32.6748 29.2111 34.0222C30.6818 34.665 32.1575 35.3207 32.9793 35.5566C33.9717 38.7692 34.6519 42.07 35.0104 45.4132C34.6639 44.0549 34.1097 42.7583 33.3676 41.5692C31.3618 38.1781 28.1504 35.415 24.1304 35.3202C25.1452 37.7634 26.6381 39.9792 28.5212 41.8374C30.4044 43.6956 32.6399 45.1588 35.0964 46.141C35.4103 49.4465 35.432 52.7733 35.161 56.0827C34.6568 51.3978 31.4782 45.3844 25.8825 44.18C26.4632 46.8229 27.5808 49.3181 29.1661 51.511C30.7514 53.7039 32.7705 55.5475 35.0981 56.9275C34.7854 60.2049 34.0552 63.429 32.9252 66.5213C32.972 66.125 32.998 65.7266 33.0031 65.3276C33.0727 60.2728 30.809 55.2801 25.859 53.1559C26.1503 59.6534 30.8826 65.7106 32.6033 67.3911L32.5523 67.5301C31.3379 70.534 29.7474 73.3717 27.8189 75.9754C29.3033 72.0772 29.5929 65.0729 24.0989 61.2631C23.5304 66.6254 24.6405 72.0319 27.2761 76.7362C25.2706 79.3423 23.0367 81.7645 20.6011 83.9739C23.4001 78.839 24.2836 72.8743 20.3772 68.1107C19.9297 69.232 19.5433 70.3768 19.2197 71.5399C18.1073 75.8933 18.3624 80.4835 19.9503 84.6868C17.4561 86.9294 14.9208 88.9491 12.2765 90.9958C17.2998 82.7224 16.6077 78.3635 14.6969 74.2496C14.1901 75.0264 13.3774 76.2492 12.5577 77.8029C11.5965 79.5725 10.9374 81.4901 10.6075 83.4766C10.4856 84.8067 10.5008 86.1458 10.6527 87.4727C10.7623 88.8848 11.0568 90.2763 11.5287 91.6117C8.70453 93.7723 6.21023 95.627 3.56098 97.6607C5.3166 94.4902 6.73481 91.1442 7.79237 87.6778C8.25601 85.0707 8.07497 82.3898 7.26504 79.8687C6.19101 81.0919 5.1912 82.3783 4.27098 83.721C2.8076 85.7842 1.91303 88.1963 1.67714 90.7148C1.44126 93.2333 1.87237 95.7695 2.92716 98.0686C1.97543 98.8525 0.986713 99.6954 0 100.582C0.233963 100.88 0.467928 101.178 0.688894 101.481L2.44738 99.9242C4.15602 100.759 12.3852 102.487 17.6638 100.695C19.3184 100.104 20.9178 99.3693 22.4436 98.4984C17.7545 96.1992 14.5942 95.0427 3.91696 98.7024C6.18131 96.8317 8.80157 94.8391 10.952 93.1763C12.6216 94.026 20.5469 95.8561 26.5433 92.9824C28.247 92.1463 29.8573 91.1318 31.3469 89.9559C28.76 89.2131 26.0712 88.8875 23.3818 88.9916C19.6464 89.7609 15.9696 90.7914 12.3786 92.0755C14.7929 90.2068 17.1532 88.3141 19.4455 86.2834C21.1092 87.0012 31.2769 89.192 39.2294 79.2249C30.5225 79.5904 30.5466 80.7001 20.6342 85.1846C22.9259 83.103 25.0502 80.844 26.9873 78.4288C30.2715 79.2095 39.6872 77.8552 44.2105 66.3427C36.2435 69.4074 36.3086 70.5462 30.9911 74.8745C29.7545 75.8873 28.3679 76.8981 27.924 77.2181C29.8396 74.6901 31.4474 71.943 32.7134 69.0347C32.8771 69.034 33.0402 69.0163 33.2002 68.9817C33.3822 68.9583 33.5619 68.9192 33.7371 68.8647C40.9913 66.8947 44.4831 60.613 45.5634 53.0657C38.7922 57.804 39.1502 59.2777 35.5684 64.5496C35.2065 65.1215 34.8167 65.6594 34.4738 66.1643C34.1309 66.6692 33.781 67.1171 33.4941 67.4961L33.3151 67.729C34.4977 64.7274 35.2953 61.5881 35.689 58.3861C39.2831 57.0632 44.9174 50.8823 44.1279 40.4138Z" fill="currentColor"/><path d="M28.8108 25.6122C26.1121 21.0405 20.4502 17.2207 15.4535 18.8146C17.4252 21.4579 20.8756 24.338 28.8108 25.6122Z" fill="currentColor"/><path d="M16.0949 11.6003C14.9715 11.0962 13.7557 10.8312 12.5244 10.822C11.2932 10.8127 10.0734 11.0596 8.94262 11.5468C10.5939 13.1518 12.5335 14.4305 14.6595 15.3155C17.3619 15.9405 20.1035 16.3812 22.8656 16.6347C21.7853 15.3281 20.5332 14.1736 19.1433 13.2027C18.1947 12.549 17.1713 12.0111 16.0949 11.6003Z" fill="currentColor"/></svg>
       
       </div>
    </div>
  `;
  document.getElementById('result-title').innerHTML = title;
  document.getElementById('result-desc').textContent = desc;
  document.getElementById('flag-risk').textContent = level;

  const card = document.querySelector('#screen-result .card');
  card.className = `card result-${color}`;

  const list = document.getElementById('insights-list');
  list.innerHTML = insights.map(i => `
    <div class="insight-item"><span>${i}</span></div>
  `).join('');

  showScreen('screen-result');
}

function shareResults() {
  const level = document.getElementById('flag-risk').textContent;
  const title = document.getElementById('result-title').textContent;
  const text = `I achieved ${level} on the Healthway Cancer Care Health Quiz: ${title}`;
  
  if (navigator.share) {
    navigator.share({
      title: 'Healthway Cancer Care Quiz Results',
      text: text,
      url: window.location.href
    }).catch(err => console.log('Share failed:', err));
  } else {
    alert(text);
  }
}

function showDoctorFlag() {
  showScreen('screen-flag');
}

function resetQuiz() {
  current = 0;
  answers = new Array(questions.length).fill(null);
  showScreen('screen-welcome');
}

function showScreen(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

function toggleFullscreen() {
  const elem = document.documentElement;
  const isFullscreen = document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;

  if (!isFullscreen) {
    if (elem.requestFullscreen) {
      elem.requestFullscreen().catch(err => console.log('Fullscreen request failed:', err));
    } else if (elem.webkitRequestFullscreen) {
      elem.webkitRequestFullscreen();
    } else if (elem.mozRequestFullScreen) {
      elem.mozRequestFullScreen();
    } else if (elem.msRequestFullscreen) {
      elem.msRequestFullscreen();
    }
  } else {
    if (document.exitFullscreen) {
      document.exitFullscreen().catch(err => console.log('Exit fullscreen failed:', err));
    } else if (document.webkitExitFullscreen) {
      document.webkitExitFullscreen();
    } else if (document.mozCancelFullScreen) {
      document.mozCancelFullScreen();
    } else if (document.msExitFullscreen) {
      document.msExitFullscreen();
    }
  }
}

function updateFullscreenButtonVisibility() {
  const btn = document.getElementById('fullscreen-btn');
  const isFullscreen = document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;
  btn.style.display = isFullscreen ? 'none' : 'flex';
}

const fullscreenBtn = document.getElementById('fullscreen-btn');
fullscreenBtn.addEventListener('click', toggleFullscreen);

document.addEventListener('fullscreenchange', updateFullscreenButtonVisibility);
document.addEventListener('webkitfullscreenchange', updateFullscreenButtonVisibility);
document.addEventListener('mozfullscreenchange', updateFullscreenButtonVisibility);
document.addEventListener('msfullscreenchange', updateFullscreenButtonVisibility);

document.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') {
      e.preventDefault();
      const btnNext = document.getElementById('btn-next');
      if (btnNext && btnNext.style.pointerEvents !== 'none') {
        nextQuestion();
      }
    }
    
    if (e.key === '8') {
      e.preventDefault();
      answers = new Array(questions.length).fill(3);
      showResults();
    }
    
    if (e.key === '9') {
      e.preventDefault();
      answers = new Array(questions.length).fill(1);
      showResults();
    }
    
    if (e.key === '0') {
      e.preventDefault();
      answers = new Array(questions.length).fill(0);
      showResults();
    }
  });
</script>
</body>
</html>